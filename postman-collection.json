{
  "info": {
    "name": "Event Management Platform - Dev Environment",
    "description": "Complete test suite for the Event Management Platform deployed in dev environment",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "baseUrl",
      "value": "https://r2nbmrglq6.execute-api.ca-central-1.amazonaws.com/dev",
      "type": "string"
    },
    {
      "key": "userPoolId",
      "value": "ca-central-1_NgK0SDL4T",
      "type": "string"
    },
    {
      "key": "userPoolClientId",
      "value": "2bbu335cjoe2afm71kjedbn86l",
      "type": "string"
    },
    {
      "key": "accessToken",
      "value": "",
      "type": "string"
    },
    {
      "key": "userId",
      "value": "",
      "type": "string"
    },
    {
      "key": "eventId",
      "value": "",
      "type": "string"
    },
    {
      "key": "bookingId",
      "value": "",
      "type": "string"
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{accessToken}}",
        "type": "string"
      }
    ]
  },
  "item": [
    {
      "name": "üîç Health Check",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/health",
              "host": ["{{baseUrl}}"],
              "path": ["health"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "üë§ User Management",
      "item": [
        {
          "name": "Register Attendee",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"attendee@example.com\",\n  \"username\": \"attendee123\",\n  \"password\": \"TestPassword123!\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phone\": \"+1234567890\",\n  \"acceptTerms\": true,\n  \"marketingConsent\": false\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('userId', response.user.id);",
                  "    pm.collectionVariables.set('accessToken', response.accessToken);",
                  "    console.log('Attendee registered successfully:', response.user.id);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Register Organizer",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"tvigninou1@gmail.com\",\n  \"username\": \"haroldvigninou\",\n  \"password\": \"Campus2020$\",\n  \"firstName\": \"harold\",\n  \"lastName\": \"Vigninou\",\n  \"phone\": \"+4388871040\",\n  \"acceptTerms\": true,\n  \"marketingConsent\": true,\n  \"role\": \"organizer\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('organizerId', response.user.id);",
                  "    pm.collectionVariables.set('organizerToken', response.accessToken);",
                  "    console.log('Organizer registered successfully:', response.user.id);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Login User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"attendee@example.com\",\n  \"password\": \"TestPassword123!\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('accessToken', response.accessToken);",
                  "    pm.collectionVariables.set('userId', response.user.id);",
                  "    console.log('User logged in successfully');",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get User Profile",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["users", "profile"]
            }
          }
        },
        {
          "name": "Update User Profile",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstName\": \"John Updated\",\n  \"lastName\": \"Doe Updated\",\n  \"phone\": \"+1234567891\",\n  \"preferences\": {\n    \"language\": \"en\",\n    \"timezone\": \"America/Toronto\",\n    \"notifications\": {\n      \"email\": true,\n      \"sms\": true,\n      \"push\": false\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/users/profile",
              "host": ["{{baseUrl}}"],
              "path": ["users", "profile"]
            }
          }
        }
      ]
    },
    {
      "name": "üéâ Event Management",
      "item": [
        {
          "name": "Create Event",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Tech Conference 2024\",\n  \"description\": \"Join us for the biggest tech conference of the year!\",\n  \"type\": \"CONFERENCE\",\n  \"category\": \"Technology\",\n  \"startDate\": \"2024-12-15T09:00:00Z\",\n  \"endDate\": \"2024-12-15T18:00:00Z\",\n  \"timezone\": \"America/Toronto\",\n  \"location\": {\n    \"venue\": \"Toronto Convention Center\",\n    \"address\": \"255 Front St W, Toronto, ON M5V 2W6\",\n    \"city\": \"Toronto\",\n    \"state\": \"Ontario\",\n    \"country\": \"Canada\",\n    \"postalCode\": \"M5V 2W6\",\n    \"coordinates\": {\n      \"latitude\": 43.6426,\n      \"longitude\": -79.3871\n    }\n  },\n  \"capacity\": 500,\n  \"pricing\": {\n    \"model\": \"TIERED\",\n    \"tiers\": [\n      {\n        \"name\": \"Early Bird\",\n        \"price\": 99.99,\n        \"currency\": \"CAD\",\n        \"availableUntil\": \"2024-11-15T23:59:59Z\",\n        \"quantity\": 100\n      },\n      {\n        \"name\": \"Regular\",\n        \"price\": 149.99,\n        \"currency\": \"CAD\",\n        \"availableUntil\": \"2024-12-10T23:59:59Z\",\n        \"quantity\": 300\n      },\n      {\n        \"name\": \"Last Minute\",\n        \"price\": 199.99,\n        \"currency\": \"CAD\",\n        \"availableUntil\": \"2024-12-15T08:59:59Z\",\n        \"quantity\": 100\n      }\n    ]\n  },\n  \"visibility\": \"PUBLIC\",\n  \"tags\": [\"technology\", \"conference\", \"networking\"],\n  \"organizer\": {\n    \"name\": \"Tech Events Inc.\",\n    \"email\": \"organizer@techevents.com\",\n    \"phone\": \"+1234567890\"\n  },\n  \"features\": {\n    \"hasWiFi\": true,\n    \"hasParking\": true,\n    \"isWheelchairAccessible\": true,\n    \"hasCatering\": true\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/events",
              "host": ["{{baseUrl}}"],
              "path": ["events"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('eventId', response.event.id);",
                  "    console.log('Event created successfully:', response.event.id);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get All Events",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/events?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["events"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Get Event by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/events/{{eventId}}",
              "host": ["{{baseUrl}}"],
              "path": ["events", "{{eventId}}"]
            }
          }
        },
        {
          "name": "Update Event",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Tech Conference 2024 - Updated\",\n  \"description\": \"Join us for the biggest tech conference of the year! Now with more speakers!\",\n  \"capacity\": 600,\n  \"tags\": [\"technology\", \"conference\", \"networking\", \"AI\", \"ML\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/events/{{eventId}}",
              "host": ["{{baseUrl}}"],
              "path": ["events", "{{eventId}}"]
            }
          }
        },
        {
          "name": "Search Events",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/events/search?query=tech&category=Technology&startDate=2024-12-01&endDate=2024-12-31",
              "host": ["{{baseUrl}}"],
              "path": ["events", "search"],
              "query": [
                {
                  "key": "query",
                  "value": "tech"
                },
                {
                  "key": "category",
                  "value": "Technology"
                },
                {
                  "key": "startDate",
                  "value": "2024-12-01"
                },
                {
                  "key": "endDate",
                  "value": "2024-12-31"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üìÖ Booking Management",
      "item": [
        {
          "name": "Create Booking",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"eventId\": \"{{eventId}}\",\n  \"tierName\": \"Early Bird\",\n  \"quantity\": 2,\n  \"attendees\": [\n    {\n      \"firstName\": \"John\",\n      \"lastName\": \"Doe\",\n      \"email\": \"john.doe@example.com\",\n      \"phone\": \"+1234567890\"\n    },\n    {\n      \"firstName\": \"Jane\",\n      \"lastName\": \"Smith\",\n      \"email\": \"jane.smith@example.com\",\n      \"phone\": \"+1234567891\"\n    }\n  ],\n  \"specialRequests\": \"Vegetarian meal preference for one attendee\",\n  \"paymentMethod\": {\n    \"type\": \"CARD\",\n    \"card\": {\n      \"number\": \"4242424242424242\",\n      \"expiryMonth\": \"12\",\n      \"expiryYear\": \"2025\",\n      \"cvc\": \"123\"\n    }\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/bookings",
              "host": ["{{baseUrl}}"],
              "path": ["bookings"]
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201) {",
                  "    const response = pm.response.json();",
                  "    pm.collectionVariables.set('bookingId', response.booking.id);",
                  "    console.log('Booking created successfully:', response.booking.id);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Get User Bookings",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/bookings?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["bookings"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Get Booking by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/bookings/{{bookingId}}",
              "host": ["{{baseUrl}}"],
              "path": ["bookings", "{{bookingId}}"]
            }
          }
        },
        {
          "name": "Cancel Booking",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/bookings/{{bookingId}}",
              "host": ["{{baseUrl}}"],
              "path": ["bookings", "{{bookingId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "üí≥ Payment Processing",
      "item": [
        {
          "name": "Process Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bookingId\": \"{{bookingId}}\",\n  \"amount\": 199.98,\n  \"currency\": \"CAD\",\n  \"paymentMethod\": {\n    \"type\": \"CARD\",\n    \"card\": {\n      \"number\": \"4242424242424242\",\n      \"expiryMonth\": \"12\",\n      \"expiryYear\": \"2025\",\n      \"cvc\": \"123\"\n    }\n  },\n  \"billingAddress\": {\n    \"line1\": \"123 Main St\",\n    \"line2\": \"Apt 4B\",\n    \"city\": \"Toronto\",\n    \"state\": \"Ontario\",\n    \"country\": \"Canada\",\n    \"postalCode\": \"M5V 2W6\"\n  }\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/payments/process",
              "host": ["{{baseUrl}}"],
              "path": ["payments", "process"]
            }
          }
        },
        {
          "name": "Get Payment Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/payments/{{bookingId}}",
              "host": ["{{baseUrl}}"],
              "path": ["payments", "{{bookingId}}"]
            }
          }
        },
        {
          "name": "Refund Payment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bookingId\": \"{{bookingId}}\",\n  \"amount\": 199.98,\n  \"reason\": \"Customer request\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/payments/refund",
              "host": ["{{baseUrl}}"],
              "path": ["payments", "refund"]
            }
          }
        }
      ]
    },
    {
      "name": "üìä Analytics",
      "item": [
        {
          "name": "Get Event Analytics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/analytics/events/{{eventId}}?startDate=2024-12-01&endDate=2024-12-31",
              "host": ["{{baseUrl}}"],
              "path": ["analytics", "events", "{{eventId}}"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2024-12-01"
                },
                {
                  "key": "endDate",
                  "value": "2024-12-31"
                }
              ]
            }
          }
        },
        {
          "name": "Get User Analytics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/analytics/users/{{userId}}?startDate=2024-12-01&endDate=2024-12-31",
              "host": ["{{baseUrl}}"],
              "path": ["analytics", "users", "{{userId}}"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2024-12-01"
                },
                {
                  "key": "endDate",
                  "value": "2024-12-31"
                }
              ]
            }
          }
        },
        {
          "name": "Get Platform Analytics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/analytics/platform?startDate=2024-12-01&endDate=2024-12-31",
              "host": ["{{baseUrl}}"],
              "path": ["analytics", "platform"],
              "query": [
                {
                  "key": "startDate",
                  "value": "2024-12-01"
                },
                {
                  "key": "endDate",
                  "value": "2024-12-31"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "üîî Notifications",
      "item": [
        {
          "name": "Send Notification",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"userId\": \"{{userId}}\",\n  \"type\": \"EMAIL\",\n  \"template\": \"EVENT_REMINDER\",\n  \"data\": {\n    \"eventTitle\": \"Tech Conference 2024\",\n    \"eventDate\": \"2024-12-15T09:00:00Z\",\n    \"eventLocation\": \"Toronto Convention Center\"\n  },\n  \"priority\": \"HIGH\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/notifications/send",
              "host": ["{{baseUrl}}"],
              "path": ["notifications", "send"]
            }
          }
        },
        {
          "name": "Get User Notifications",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/notifications?page=1&limit=10",
              "host": ["{{baseUrl}}"],
              "path": ["notifications"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        }
      ]
    }
  ]
}
